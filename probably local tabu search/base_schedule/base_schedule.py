import numpy as np
import math
import pdb

from .reconstruct_group import change_format_group 
from .appoinment.appoinment import appointment


def base_schedule(data, sol_1, config = None):

    schedule = {
    'real_time': 4 * data['T'],
    'teachers': [[] for __ in range(data['I'])], 
    'teachers_work_days': np.zeros((data['D'], data['I'])),
    'schedule_of_teachers': np.zeros((data['I'], data['D'], 4 * data['T']))}

    
    change_format_group(data, sol_1, config)
    # print(sol_1['groups'])

    # sol_1['groups'] = [[[67, 79, 83, 139, 157, 188, 253, 462], 1, 0, (2, 24, 28), (4, 24, 28)], [[18, 52, 124, 147, 201, 247, 273, 364], 1, 1, (2, 28, 32), (4, 28, 32)], [[133, 145, 327, 329, 369, 410, 418, 463], 2, 2, (0, 32, 36), (3, 32, 36)], [[54, 126, 141, 198, 211, 212, 219, 297], 1, 3, (0, 28, 32), (2, 28, 32)], [[138, 272, 286, 313, 455, 461, 480, 497], 2, 3, (1, 32, 36), (4, 32, 36)], [[76, 101, 109, 118, 120, 175, 242, 421], 1, 4, (0, 8, 12), (4, 8, 12)], [[66, 115, 178, 186, 347, 387, 395, 452], 1, 5, (0, 4, 8), (3, 4, 8)], [[15, 24, 152, 229, 239, 260, 330, 419], 4, 5, (2, 36, 40), (4, 36, 40)], [[9, 20, 128, 168, 276, 289, 306, 337], 3, 6, (2, 36, 40), (4, 36, 40)], [[26, 136, 140, 158, 197, 235, 277, 407], 1, 8, (1, 4, 8), (3, 4, 8)], [[75, 156, 176, 214, 341, 343, 393, 487], 2, 8, (2, 8, 12), (4, 8, 12)], [[10, 29, 71, 80, 82, 108, 280, 325], 3, 8, (1, 24, 28), (5, 24, 28)], [[192, 257, 274, 372, 384, 406, 427, 431], 1, 9, (0, 24, 28), (3, 24, 28)], [[5, 8, 125, 161, 246, 301, 348, 386], 1, 10, (1, 28, 32), (3, 28, 32)], [[32, 92, 199, 290, 361, 420, 445, 447], 2, 10, (1, 36, 40), (3, 36, 40)], [[132, 144, 217, 298, 374, 380, 409, 476], 1, 11, (1, 8, 12), (3, 8, 12)], [[22, 204, 258, 275, 333, 388, 397, 479], 1, 12, (3, 28, 32), (5, 28, 32)], [[173, 182, 310, 316, 385, 472, 495, 498], 2, 0, (1, 32, 40), (3, 32, 40)], [[12, 28, 57, 86, 190, 245, 288, 302], 1, 2, (0, 28, 36), (2, 28, 36)], [[4, 38, 111, 240, 282, 321, 451, 466], 2, 4, (2, 28, 36), (5, 28, 36)], [[44, 45, 112, 134, 171, 180, 404, 493], 2, 5, (1, 8, 16), (5, 8, 16)], [[59, 70, 72, 89, 127, 160, 231, 279], 2, 6, (1, 24, 32), (3, 24, 32)], [[169, 220, 226, 264, 307, 344, 468, 494], 1, 6, (2, 8, 16), (4, 8, 16)], [[14, 43, 107, 228, 244, 295, 351, 390], 1, 7, (1, 4, 12), (3, 4, 12)], [[206, 255, 259, 261, 389, 411, 439, 489], 2, 7, (0, 24, 32), (2, 24, 32)], [[25, 243, 251, 254, 265, 314, 370, 378], 2, 9, (0, 32, 40), (3, 32, 40)], [[181, 291, 292, 309, 332, 401, 422, 484], 2, 11, (1, 32, 40), (5, 32, 40)], [[36, 42, 61, 64, 85, 94, 368, 458], 5, 5, (0, 32, 44), (5, 32, 44)], [[0, 51, 88, 202, 225, 311, 340, 412], 3, 5, (2, 24, 36), (4, 24, 36)], [[7, 146, 148, 230, 360, 433, 469, 490], 4, 6, (1, 32, 44), (5, 32, 44)], [[137, 154, 250, 267, 349, 446, 450, 491], 4, 8, (0, 28, 40), (3, 28, 40)], [[60, 63, 193, 359, 403, 413, 454], 2, 1, (0, 4, 8), (5, 4, 8)], [[93, 110, 153, 184, 232, 429, 478], 3, 2, (0, 8, 12), (2, 8, 12)], [[3, 104, 117, 319, 363, 416, 425], 3, 3, (1, 8, 12), (3, 8, 12)], [[2, 50, 73, 215, 224, 394, 477], 3, 7, (1, 28, 32), (5, 28, 32)], [[30, 99, 179, 187, 326, 335, 353], 3, 10, (2, 4, 8), (4, 4, 8)], [[84, 122, 183, 305, 317, 346, 402], 3, 9, (1, 8, 16), (3, 8, 16)], [[278, 293, 331, 345, 437, 485], 4, 2, (1, 32, 36), (4, 32, 36)], [[55, 263, 318, 338, 358, 391], 4, 9, (1, 28, 32), (5, 28, 32)], [[13, 159, 167, 222, 299, 428], 5, 6, (0, 8, 16), (3, 8, 16)], [[35, 177, 328, 434, 453, 483], 4, 7, (0, 32, 40), (2, 32, 40)], [[27, 95, 102, 221, 322, 367], 5, 8, (2, 32, 40), (5, 32, 40)], [[39, 46, 69, 155, 227, 470], 4, 10, (0, 32, 40), (4, 32, 40)], [[185, 213, 308, 365, 377, 443], 3, 11, (0, 8, 16), (5, 8, 16)], [[23, 74, 165, 205, 218, 405], 6, 5, (1, 32, 44), (3, 32, 44)], [[103, 106, 174, 269, 467], 4, 11, (0, 24, 28), (3, 24, 28)], [[78, 200, 234, 256, 382], 7, 5, (1, 0, 8), (5, 0, 8)], [[56, 396, 423, 460, 474], 6, 10, (0, 24, 32), (4, 24, 32)], [[114, 121, 166, 281, 475], 2, 12, (0, 4, 12), (2, 4, 12)], [[1, 33, 97, 252, 350], 3, 4, (0, 32, 44), (5, 32, 44)], [[34, 49, 376, 408, 488], 5, 10, (3, 8, 20), (5, 8, 20)], [[21, 48, 294, 457], 3, 0, (0, 32, 36), (5, 32, 36)], [[90, 150, 248, 268], 4, 1, (2, 32, 40), (5, 32, 40)], [[62, 129, 135, 448], 3, 1, (1, 8, 16), (4, 8, 16)], [[189, 195, 210, 303], 4, 4, (1, 8, 16), (5, 8, 16)], [[11, 436, 442, 473], 8, 5, (0, 20, 32), (2, 20, 32)], [[41, 151, 459, 481], 5, 9, (1, 32, 44), (3, 32, 44)], [[379, 383, 496], 7, 6, (1, 24, 28), (3, 24, 28)], [[130, 300, 426], 5, 11, (2, 32, 36), (4, 32, 36)], [[58, 271, 339], 4, 0, (0, 0, 8), (5, 0, 8)], [[96, 334, 399], 9, 5, (3, 24, 32), (5, 24, 32)], [[77, 320, 324], 5, 2, (2, 32, 44), (5, 32, 44)], [[68, 81, 105], 4, 3, (3, 32, 44), (5, 32, 44)], [[87, 98, 194], 6, 6, (0, 0, 12), (4, 0, 12)], [[37, 149, 371], 6, 8, (0, 32, 44), (3, 32, 44)], [[31, 249], 5, 3, (0, 8, 12), (2, 8, 12)], [[172, 283], 5, 0, (0, 8, 16), (4, 8, 16)], [[444, 471], 6, 2, (2, 4, 12), (4, 4, 12)], [[143, 191], 6, 3, (1, 20, 28), (3, 20, 28)], [[285, 304], 5, 4, (0, 20, 28), (4, 20, 28)], [[216, 400], 8, 6, (1, 24, 32), (4, 24, 32)], [[266, 352], 5, 7, (0, 8, 16), (3, 8, 16)], [[40, 354], 6, 7, (0, 28, 36), (4, 28, 36)], [[209, 237], 8, 8, (2, 24, 32), (5, 24, 32)], [[456, 499], 9, 8, (1, 32, 40), (4, 32, 40)], [[164, 270], 6, 9, (0, 4, 12), (5, 4, 12)], [[6, 203], 3, 12, (1, 20, 28), (5, 20, 28)], [[284, 342], 6, 0, (1, 20, 32), (3, 20, 32)], [[123, 492], 9, 6, (2, 32, 44), (5, 32, 44)], [[208, 486], 7, 7, (1, 32, 44), (4, 32, 44)], [[142, 435], 7, 8, (2, 4, 16), (5, 4, 16)], [[432, 438], 7, 9, (0, 28, 40), (4, 28, 40)], [[131, 366], 7, 11, (0, 20, 32), (4, 20, 32)], [[449, 464], 6, 11, (0, 0, 12), (4, 0, 12)], [[362, 440], 4, 12, (0, 32, 44), (3, 32, 44)], [[238, 482], 7, 10, (1, 28, 44), (4, 28, 44)]]
    sol_1['groups'] = [[[67, 79, 83, 139, 157, 188, 253, 462], 1, 0, (2, 24, 29), (4, 24, 29)], [[18, 52, 124, 147, 201, 247, 273, 364], 1, 1, (2, 28, 33), (4, 28, 33)], [[133, 145, 327, 329, 369, 410, 418, 463], 2, 2, (0, 32, 37), (3, 32, 37)], [[54, 126, 141, 198, 211, 212, 219, 297], 1, 3, (0, 28, 33), (2, 28, 33)], [[138, 272, 286, 313, 455, 461, 480, 497], 2, 3, (1, 32, 37), (4, 32, 37)], [[76, 101, 109, 118, 120, 175, 242, 421], 1, 4, (0, 8, 13), (4, 8, 13)], [[66, 115, 178, 186, 347, 387, 395, 452], 1, 5, (0, 4, 10), (3, 4, 10)], [[15, 24, 152, 229, 239, 260, 330, 419], 4, 5, (2, 36, 42), (4, 36, 42)], [[9, 20, 128, 168, 276, 289, 306, 337], 3, 6, (2, 36, 41), (4, 36, 41)], [[26, 136, 140, 158, 197, 235, 277, 407], 1, 8, (1, 4, 11), (3, 4, 11)], [[75, 156, 176, 214, 341, 343, 393, 487], 2, 8, (2, 8, 15), (4, 8, 15)], [[10, 29, 71, 80, 82, 108, 280, 325], 3, 8, (1, 24, 31), (5, 24, 31)], [[192, 257, 274, 372, 384, 406, 427, 431], 1, 9, (0, 24, 31), (3, 24, 31)], [[5, 8, 125, 161, 246, 301, 348, 386], 1, 10, (1, 28, 35), (3, 28, 35)], [[32, 92, 199, 290, 361, 420, 445, 447], 2, 10, (1, 36, 43), (3, 36, 43)], [[132, 144, 217, 298, 374, 380, 409, 476], 1, 11, (1, 8, 16), (3, 8, 16)], [[22, 204, 258, 275, 333, 388, 397, 479], 1, 12, (3, 28, 36), (5, 28, 36)], [[173, 182, 310, 316, 385, 472, 495, 498], 2, 0, (1, 32, 41), (3, 32, 41)], [[12, 28, 57, 86, 190, 245, 288, 302], 1, 2, (0, 28, 37), (2, 28, 37)], [[4, 38, 111, 240, 282, 321, 451, 466], 2, 4, (2, 28, 37), (5, 28, 37)], [[44, 45, 112, 134, 171, 180, 404, 493], 2, 5, (1, 8, 18), (5, 8, 18)], [[59, 70, 72, 89, 127, 160, 231, 279], 2, 6, (1, 24, 33), (3, 24, 33)], [[169, 220, 226, 264, 307, 344, 468, 494], 1, 6, (2, 8, 17), (4, 8, 17)], [[14, 43, 107, 228, 244, 295, 351, 390], 1, 7, (1, 4, 14), (3, 4, 14)], [[206, 255, 259, 261, 389, 411, 439, 489], 2, 7, (0, 24, 34), (2, 24, 34)], [[25, 243, 251, 254, 265, 314, 370, 378], 2, 9, (0, 32, 43), (3, 32, 43)], [[181, 291, 292, 309, 332, 401, 422, 484], 2, 11, (1, 32, 44), (5, 32, 44)], [[36, 42, 61, 64, 85, 94, 368, 458], 5, 5, (0, 32, 44), (5, 32, 44)], [[0, 51, 88, 202, 225, 311, 340, 412], 3, 5, (2, 24, 38), (4, 24, 38)], [[7, 146, 148, 230, 360, 433, 469, 490], 4, 6, (1, 32, 44), (5, 32, 44)], [[137, 154, 250, 267, 349, 446, 450, 491], 4, 8, (0, 28, 43), (3, 28, 43)], [[60, 63, 193, 359, 403, 413, 454], 2, 1, (0, 4, 9), (5, 4, 9)], [[93, 110, 153, 184, 232, 429, 478], 3, 2, (0, 8, 13), (2, 8, 13)], [[3, 104, 117, 319, 363, 416, 425], 3, 3, (1, 8, 13), (3, 8, 13)], [[2, 50, 73, 215, 224, 394, 477], 3, 7, (1, 28, 34), (5, 28, 34)], [[30, 99, 179, 187, 326, 335, 353], 3, 10, (2, 4, 11), (4, 4, 11)], [[84, 122, 183, 305, 317, 346, 402], 3, 9, (1, 8, 19), (3, 8, 19)], [[278, 293, 331, 345, 437, 485], 4, 2, (1, 32, 37), (4, 32, 37)], [[55, 263, 318, 338, 358, 391], 4, 9, (1, 28, 35), (5, 28, 35)], [[13, 159, 167, 222, 299, 428], 5, 6, (0, 8, 17), (3, 8, 17)], [[35, 177, 328, 434, 453, 483], 4, 7, (0, 32, 42), (2, 32, 42)], [[27, 95, 102, 221, 322, 367], 5, 8, (2, 32, 43), (5, 32, 43)], [[39, 46, 69, 155, 227, 470], 4, 10, (0, 32, 43), (4, 32, 43)], [[185, 213, 308, 365, 377, 443], 3, 11, (0, 8, 20), (5, 8, 20)], [[23, 74, 165, 205, 218, 405], 6, 5, (1, 32, 44), (3, 32, 44)], [[103, 106, 174, 269, 467], 4, 11, (0, 24, 32), (3, 24, 32)], [[78, 200, 234, 256, 382], 7, 5, (1, 0, 10), (5, 0, 10)], [[56, 396, 423, 460, 474], 6, 10, (0, 24, 35), (4, 24, 35)], [[114, 121, 166, 281, 475], 2, 12, (0, 4, 16), (2, 4, 16)], [[1, 33, 97, 252, 350], 3, 4, (0, 32, 44), (5, 32, 44)], [[34, 49, 376, 408, 488], 5, 10, (3, 8, 23), (5, 8, 23)], [[21, 48, 294, 457], 3, 0, (0, 32, 37), (5, 32, 37)], [[90, 150, 248, 268], 4, 1, (2, 32, 41), (5, 32, 41)], [[62, 129, 135, 448], 3, 1, (1, 8, 17), (4, 8, 17)], [[189, 195, 210, 303], 4, 4, (1, 8, 17), (5, 8, 17)], [[11, 436, 442, 473], 8, 5, (0, 20, 34), (2, 20, 34)], [[41, 151, 459, 481], 5, 9, (1, 32, 44), (3, 32, 44)], [[379, 383, 496], 7, 6, (1, 24, 29), (3, 24, 29)], [[130, 300, 426], 5, 11, (2, 32, 40), (4, 32, 40)], [[58, 271, 339], 4, 0, (0, 0, 9), (5, 0, 9)], [[96, 334, 399], 9, 5, (3, 24, 34), (5, 24, 34)], [[77, 320, 324], 5, 2, (2, 32, 44), (5, 32, 44)], [[68, 81, 105], 4, 3, (3, 32, 44), (5, 32, 44)], [[87, 98, 194], 6, 6, (0, 0, 13), (4, 0, 13)], [[37, 149, 371], 6, 8, (0, 32, 44), (3, 32, 44)], [[31, 249], 5, 3, (0, 8, 13), (2, 8, 13)], [[172, 283], 5, 0, (0, 8, 17), (4, 8, 17)], [[444, 471], 6, 2, (2, 4, 13), (4, 4, 13)], [[143, 191], 6, 3, (1, 20, 29), (3, 20, 29)], [[285, 304], 5, 4, (0, 20, 29), (4, 20, 29)], [[216, 400], 8, 6, (1, 24, 33), (4, 24, 33)], [[266, 352], 5, 7, (0, 8, 18), (3, 8, 18)], [[40, 354], 6, 7, (0, 28, 38), (4, 28, 38)], [[209, 237], 8, 8, (2, 24, 35), (5, 24, 35)], [[456, 499], 9, 8, (1, 32, 43), (4, 32, 43)], [[164, 270], 6, 9, (0, 4, 15), (5, 4, 15)], [[6, 203], 3, 12, (1, 20, 32), (5, 20, 32)], [[284, 342], 6, 0, (1, 20, 33), (3, 20, 33)], [[123, 492], 9, 6, (2, 32, 44), (5, 32, 44)], [[208, 486], 7, 7, (1, 32, 44), (4, 32, 44)], [[142, 435], 7, 8, (2, 4, 19), (5, 4, 19)], [[432, 438], 7, 9, (0, 28, 43), (4, 28, 43)], [[131, 366], 7, 11, (0, 20, 36), (4, 20, 36)], [[449, 464], 6, 11, (0, 0, 16), (4, 0, 16)], [[362, 440], 4, 12, (0, 32, 44), (3, 32, 44)], [[238, 482], 7, 10, (1, 28, 44), (4, 28, 44)]]
    # print( sol_1['groups'])

    appointment(data, sol_1, schedule)

    return schedule

    
